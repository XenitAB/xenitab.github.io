<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-xks/operator-guide/ingress-nginx deprecation/ingress-nginx-retiring" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Ingress Nginx Retiring | Xenit</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="http://xenitab.github.io/img/Xenit_logo_Svart.png"><meta data-rh="true" name="twitter:image" content="http://xenitab.github.io/img/Xenit_logo_Svart.png"><meta data-rh="true" property="og:url" content="http://xenitab.github.io/docs/xks/operator-guide/ingress-nginx deprecation/ingress-nginx-retiring"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Ingress Nginx Retiring | Xenit"><meta data-rh="true" name="description" content="Retirement and Deprecation Notice for Ingress Nginx"><meta data-rh="true" property="og:description" content="Retirement and Deprecation Notice for Ingress Nginx"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="http://xenitab.github.io/docs/xks/operator-guide/ingress-nginx deprecation/ingress-nginx-retiring"><link data-rh="true" rel="alternate" href="http://xenitab.github.io/docs/xks/operator-guide/ingress-nginx deprecation/ingress-nginx-retiring" hreflang="en"><link data-rh="true" rel="alternate" href="http://xenitab.github.io/docs/xks/operator-guide/ingress-nginx deprecation/ingress-nginx-retiring" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Ingress Nginx Retiring","item":"http://xenitab.github.io/docs/xks/operator-guide/ingress-nginx deprecation/ingress-nginx-retiring"}]}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Xenit RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Xenit Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=GTM-5K3TQ3K"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","GTM-5K3TQ3K",{anonymize_ip:!0})</script><link rel="stylesheet" href="/assets/css/styles.835dd407.css">
<script src="/assets/js/runtime~main.b4c6322d.js" defer="defer"></script>
<script src="/assets/js/main.0120c41a.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/Xenit_logo_Svart.png" alt="Xenit logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/Xenit_logo_Vit.png" alt="Xenit logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><a class="navbar__item navbar__link" href="/blog/">Blog</a><a href="https://github.com/XenitAB" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/"><span title="Introduction" class="linkLabel_WmDU">Introduction</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/xks/"><span title="Xenit Kubernetes Service" class="categoryLinkLabel_W154">Xenit Kubernetes Service</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/xks/"><span title="Overview" class="linkLabel_WmDU">Overview</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/xks/architecture-and-design"><span title="Architecture and design" class="linkLabel_WmDU">Architecture and design</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/xks/developer-guide/introduction"><span title="Developer Guide" class="categoryLinkLabel_W154">Developer Guide</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/docs/xks/operator-guide/"><span title="Operator Guide" class="categoryLinkLabel_W154">Operator Guide</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/xks/operator-guide/"><span title="Overview" class="linkLabel_WmDU">Overview</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/xks/operator-guide/getting-started"><span title="Getting Started" class="linkLabel_WmDU">Getting Started</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/xks/operator-guide/agents"><span title="Agents" class="linkLabel_WmDU">Agents</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/xks/operator-guide/networking"><span title="Networking" class="linkLabel_WmDU">Networking</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/xks/operator-guide/blast-radius"><span title="Blast Radius" class="linkLabel_WmDU">Blast Radius</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/xks/operator-guide/blue-green"><span title="Blue Green Clusters" class="linkLabel_WmDU">Blue Green Clusters</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/xks/operator-guide/aws-azdo"><span title="AWS azure-devops" class="linkLabel_WmDU">AWS azure-devops</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/xks/operator-guide/github"><span title="XKF on Github" class="linkLabel_WmDU">XKF on Github</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/xks/operator-guide/cve"><span title="CVE Information" class="linkLabel_WmDU">CVE Information</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/xks/operator-guide/kubernetes/aks"><span title="Kubernetes" class="categoryLinkLabel_W154">Kubernetes</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/docs/xks/operator-guide/ingress-nginx deprecation/ingress-nginx-retiring"><span title="Deprecation ingress-nginx " class="categoryLinkLabel_W154">Deprecation ingress-nginx </span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/xks/operator-guide/ingress-nginx deprecation/ingress-nginx-retiring"><span title="Ingress Nginx Retiring" class="linkLabel_WmDU">Ingress Nginx Retiring</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/xks/operator-guide/ingress-nginx deprecation/gateway-api"><span title="Gateway API" class="linkLabel_WmDU">Gateway API</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/xks/operator-guide/ingress-nginx deprecation/envoy-gateway"><span title="Envoy Gateway" class="linkLabel_WmDU">Envoy Gateway</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/xks/operator-guide/ingress-nginx deprecation/azure-dns-migration-playbook"><span title="Azure DNS Migration Playbook" class="linkLabel_WmDU">Azure DNS Migration Playbook</span></a></li></ul></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/xenit-style-guide/containers"><span title="Xenit Style Guide" class="categoryLinkLabel_W154">Xenit Style Guide</span></a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Xenit Kubernetes Service</span></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Operator Guide</span></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Deprecation ingress-nginx </span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Ingress Nginx Retiring</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Ingress Nginx Retiring</h1></header><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="retirement-and-deprecation-notice-for-ingress-nginx">Retirement and Deprecation Notice for Ingress Nginx<a href="#retirement-and-deprecation-notice-for-ingress-nginx" class="hash-link" aria-label="Direct link to Retirement and Deprecation Notice for Ingress Nginx" title="Direct link to Retirement and Deprecation Notice for Ingress Nginx" translate="no">​</a></h2>
<p>We defer you to the original and most up-to-date official post regarding the retirement of Ingress Nginx project:</p>
<p><a href="https://kubernetes.io/blog/2025/11/11/ingress-nginx-retirement/" target="_blank" rel="noopener noreferrer" class="">https://kubernetes.io/blog/2025/11/11/ingress-nginx-retirement/</a></p>
<p>The Ingress API and Nginx Ingress Controller are being deprecated across the Kubernetes ecosystem and within XKS. This change aligns with the Kubernetes community&#x27;s shift toward the Gateway API as the successor to Ingress.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="official-deprecation-information">Official Deprecation Information<a href="#official-deprecation-information" class="hash-link" aria-label="Direct link to Official Deprecation Information" title="Direct link to Official Deprecation Information" translate="no">​</a></h3>
<p>The Kubernetes community has officially recognized Gateway API as the future of ingress traffic management:</p>
<ul>
<li class=""><strong>Gateway API Status</strong>: The Gateway API has <a href="https://kubernetes.io/blog/2023/10/31/gateway-api-ga/" target="_blank" rel="noopener noreferrer" class="">graduated to General Availability (GA)</a> as of October 2023, signaling production readiness and long-term support</li>
<li class=""><strong>Kubernetes Documentation</strong>: The official Kubernetes documentation now <a href="https://kubernetes.io/docs/concepts/services-networking/gateway/" target="_blank" rel="noopener noreferrer" class="">recommends Gateway API</a> as the preferred solution for ingress traffic</li>
<li class=""><strong>Ingress Specification</strong>: The <a href="https://kubernetes.io/docs/concepts/services-networking/ingress/" target="_blank" rel="noopener noreferrer" class="">Ingress API</a> remains in beta and is considered feature-frozen, with new development focused on Gateway API</li>
<li class=""><strong>Nginx Ingress Controller</strong>: While still maintained, the <a href="https://kubernetes.github.io/ingress-nginx/" target="_blank" rel="noopener noreferrer" class="">Nginx Ingress Controller</a> project recommends evaluating Gateway API for new deployments</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="xks-timeline-and-support">XKS Timeline and Support<a href="#xks-timeline-and-support" class="hash-link" aria-label="Direct link to XKS Timeline and Support" title="Direct link to XKS Timeline and Support" translate="no">​</a></h3>
<ul>
<li class=""><strong>Current Status</strong>: Ingress resources with Nginx Ingress Controller remain functional and supported for backward compatibility</li>
<li class=""><strong>Recommendation</strong>: All new applications and projects should use Gateway API from the start</li>
<li class=""><strong>Migration Period</strong>: Existing Ingress resources should be migrated to Gateway API. Support for legacy Ingress will be maintained during a transition period</li>
<li class=""><strong>Future Removal</strong>: Advanced notice will be provided before Ingress support is removed from XKS clusters</li>
<li class=""><strong>Support</strong>: The XKS platform team is available to assist with migration planning and execution</li>
</ul>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Ready to Migrate? Check Out Our Example Playbook!</div><div class="admonitionContent_BuS1"><p>We&#x27;ve prepared step-by-step example migration playbooks to guide you through the process. Start with the <a class="" href="/docs/xks/operator-guide/ingress-nginx deprecation/azure-dns-migration-playbook">Azure DNS Migration Playbook</a> for a near zero-downtime DNS switchover guide using external-dns.</p><p>Please note that in your scenario you might not be able to follow this exact playbook this is just an example. Please double check your situation gitops, pipelines or manual deployments for you to understand whats the best way to handle the DNS switchover and or to minimize downtime if that is important.</p></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="why-migrate">Why Migrate?<a href="#why-migrate" class="hash-link" aria-label="Direct link to Why Migrate?" title="Direct link to Why Migrate?" translate="no">​</a></h2>
<p>The migration from Ingress to Gateway API offers significant benefits:</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="standardization">Standardization<a href="#standardization" class="hash-link" aria-label="Direct link to Standardization" title="Direct link to Standardization" translate="no">​</a></h3>
<p>Gateway API is an official Kubernetes standard maintained by SIG Network, ensuring:</p>
<ul>
<li class="">Long-term support and stability</li>
<li class="">Cross-vendor compatibility</li>
<li class="">Regular updates aligned with Kubernetes releases</li>
<li class="">Community-driven development</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="enhanced-capabilities">Enhanced Capabilities<a href="#enhanced-capabilities" class="hash-link" aria-label="Direct link to Enhanced Capabilities" title="Direct link to Enhanced Capabilities" translate="no">​</a></h3>
<p>Gateway API provides features that were impossible or required complex workarounds in Ingress:</p>
<ul>
<li class=""><strong>Header-based routing</strong>: Make routing decisions based on HTTP headers</li>
<li class=""><strong>Traffic splitting</strong>: Distribute traffic across multiple backends for canary deployments</li>
<li class=""><strong>Request mirroring</strong>: Duplicate traffic for testing without affecting production</li>
<li class=""><strong>Cross-namespace routing</strong>: Reference services in other namespaces with explicit permissions</li>
<li class=""><strong>Protocol flexibility</strong>: Native support for HTTP, HTTPS, TCP, TLS, UDP, and GRPC</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="better-architecture">Better Architecture<a href="#better-architecture" class="hash-link" aria-label="Direct link to Better Architecture" title="Direct link to Better Architecture" translate="no">​</a></h3>
<ul>
<li class=""><strong>Role-oriented design</strong>: Clear separation between infrastructure (GatewayClass), operations (Gateway), and application (HTTPRoute) concerns</li>
<li class=""><strong>Type safety</strong>: Configuration validated by Kubernetes API server instead of annotations</li>
<li class=""><strong>Extensibility</strong>: Well-defined extension points for policies and filters</li>
<li class=""><strong>Simplified configuration</strong>: More intuitive and expressive resource definitions</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="migration-resources">Migration Resources<a href="#migration-resources" class="hash-link" aria-label="Direct link to Migration Resources" title="Direct link to Migration Resources" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="gateway-api-documentation">Gateway API Documentation<a href="#gateway-api-documentation" class="hash-link" aria-label="Direct link to Gateway API Documentation" title="Direct link to Gateway API Documentation" translate="no">​</a></h3>
<p>To understand and implement Gateway API in XKS, refer to the comprehensive <a class="" href="/docs/xks/operator-guide/ingress-nginx deprecation/gateway-api">Gateway API Guide</a>:</p>
<ul>
<li class=""><strong>Getting Started</strong>: Basic HTTPRoute examples and common patterns</li>
<li class=""><strong>Advanced Features</strong>: Traffic splitting, header routing, URL rewriting, and more</li>
<li class=""><strong>TLS Configuration</strong>: Automated certificate management</li>
<li class=""><strong>Rate Limiting &amp; Policies</strong>: Request control and traffic management</li>
<li class=""><strong>Complete Examples</strong>: Real-world use cases and configurations</li>
<li class=""><strong>Debugging Guide</strong>: Troubleshooting tips and common issues</li>
</ul>
<p>For the official Gateway API specification and concepts, see:</p>
<ul>
<li class=""><a href="https://gateway-api.sigs.k8s.io/" target="_blank" rel="noopener noreferrer" class="">Gateway API Official Documentation</a></li>
<li class=""><a href="https://gateway-api.sigs.k8s.io/concepts/api-overview/" target="_blank" rel="noopener noreferrer" class="">Gateway API Concepts</a></li>
<li class=""><a href="https://gateway-api.sigs.k8s.io/guides/" target="_blank" rel="noopener noreferrer" class="">Gateway API User Guides</a></li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="envoy-gateway-documentation">Envoy Gateway Documentation<a href="#envoy-gateway-documentation" class="hash-link" aria-label="Direct link to Envoy Gateway Documentation" title="Direct link to Envoy Gateway Documentation" translate="no">​</a></h3>
<p>XKS uses Envoy Gateway as the implementation of Gateway API. Learn more in the <a class="" href="/docs/xks/operator-guide/ingress-nginx deprecation/envoy-gateway">Envoy Gateway Guide</a>:</p>
<ul>
<li class=""><strong>Architecture Overview</strong>: How Envoy Gateway works in XKS</li>
<li class=""><strong>Advanced Features</strong>: Circuit breaking, health checks, load balancing</li>
<li class=""><strong>Performance</strong>: Understanding resource usage and optimization</li>
<li class=""><strong>Observability</strong>: Metrics, logging, and tracing capabilities</li>
<li class=""><strong>Troubleshooting</strong>: Debugging Envoy configuration and behavior</li>
</ul>
<p>For official Envoy Gateway documentation:</p>
<ul>
<li class=""><a href="https://gateway.envoyproxy.io/" target="_blank" rel="noopener noreferrer" class="">Envoy Gateway Documentation</a></li>
<li class=""><a href="https://gateway.envoyproxy.io/latest/user/quickstart/" target="_blank" rel="noopener noreferrer" class="">Envoy Gateway Quick Start</a></li>
<li class=""><a href="https://gateway.envoyproxy.io/latest/tasks/" target="_blank" rel="noopener noreferrer" class="">Envoy Gateway Tasks</a></li>
</ul>
<p>For Envoy Proxy internals:</p>
<ul>
<li class=""><a href="https://www.envoyproxy.io/docs" target="_blank" rel="noopener noreferrer" class="">Envoy Proxy Documentation</a></li>
<li class=""><a href="https://www.envoyproxy.io/docs/envoy/latest/intro/arch_overview/arch_overview" target="_blank" rel="noopener noreferrer" class="">Envoy Architecture</a></li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="migration-guide">Migration Guide<a href="#migration-guide" class="hash-link" aria-label="Direct link to Migration Guide" title="Direct link to Migration Guide" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="step-1-assess-current-ingress-resources">Step 1: Assess Current Ingress Resources<a href="#step-1-assess-current-ingress-resources" class="hash-link" aria-label="Direct link to Step 1: Assess Current Ingress Resources" title="Direct link to Step 1: Assess Current Ingress Resources" translate="no">​</a></h3>
<p>Inventory all Ingress resources in your namespaces:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl get ingress --all-namespaces</span><br></span></code></pre></div></div>
<p>Document:</p>
<ul>
<li class="">Hostnames and paths configured</li>
<li class="">Annotations used (especially implementation-specific ones)</li>
<li class="">TLS configuration</li>
<li class="">Backend services referenced</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="step-2-understand-annotation-mapping">Step 2: Understand Annotation Mapping<a href="#step-2-understand-annotation-mapping" class="hash-link" aria-label="Direct link to Step 2: Understand Annotation Mapping" title="Direct link to Step 2: Understand Annotation Mapping" translate="no">​</a></h3>
<p>Many Nginx Ingress annotations have Gateway API equivalents. Review the <a href="#annotation-migration-reference" class="">annotation migration table</a> below to understand how to convert your configuration.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="step-3-create-httproute-resources">Step 3: Create HTTPRoute Resources<a href="#step-3-create-httproute-resources" class="hash-link" aria-label="Direct link to Step 3: Create HTTPRoute Resources" title="Direct link to Step 3: Create HTTPRoute Resources" translate="no">​</a></h3>
<p>Convert each Ingress to an HTTPRoute. See the <a class="" href="/docs/xks/operator-guide/ingress-nginx deprecation/gateway-api#migration-from-ingress">Gateway API Guide</a> for detailed side-by-side examples.</p>
<p>Basic conversion pattern:</p>
<p><strong>Before (Ingress):</strong></p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">apiVersion</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> networking.k8s.io/v1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">kind</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Ingress</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">metadata</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> example</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">app</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">namespace</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> tenant</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">spec</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">ingressClassName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> nginx</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">rules</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">host</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> app.example.com</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">http</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">paths</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">path</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> /</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token key atrule">pathType</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Prefix</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token key atrule">backend</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              </span><span class="token key atrule">service</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> example</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">app</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token key atrule">port</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                  </span><span class="token key atrule">number</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">80</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">tls</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">hosts</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> app.example.com</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">secretName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> example</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">cert</span><br></span></code></pre></div></div>
<p><strong>After (HTTPRoute):</strong></p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">apiVersion</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> gateway.networking.k8s.io/v1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">kind</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> HTTPRoute</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">metadata</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> example</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">app</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">namespace</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> tenant</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">spec</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">parentRefs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> default</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">gateway</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">namespace</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> gateway</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">system</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">hostnames</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;app.example.com&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">rules</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">matches</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">path</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token key atrule">type</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> PathPrefix</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token key atrule">value</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> /</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">backendRefs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> example</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">app</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token key atrule">port</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">80</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="step-4-test-in-parallel">Step 4: Test in Parallel<a href="#step-4-test-in-parallel" class="hash-link" aria-label="Direct link to Step 4: Test in Parallel" title="Direct link to Step 4: Test in Parallel" translate="no">​</a></h3>
<p>Keep both Ingress and HTTPRoute running initially:</p>
<ul>
<li class="">Use different hostnames for testing (e.g., <code>app-new.example.com</code> for HTTPRoute)</li>
<li class="">Verify functionality matches expected behavior</li>
<li class="">Test with actual traffic patterns</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="step-5-update-dns-and-switch-traffic">Step 5: Update DNS and Switch Traffic<a href="#step-5-update-dns-and-switch-traffic" class="hash-link" aria-label="Direct link to Step 5: Update DNS and Switch Traffic" title="Direct link to Step 5: Update DNS and Switch Traffic" translate="no">​</a></h3>
<p>Once confident in HTTPRoute configuration:</p>
<ul>
<li class="">Update DNS records to point to Gateway IP</li>
<li class="">Monitor metrics and logs for issues</li>
<li class="">Keep Ingress as a fallback initially</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="step-6-clean-up">Step 6: Clean Up<a href="#step-6-clean-up" class="hash-link" aria-label="Direct link to Step 6: Clean Up" title="Direct link to Step 6: Clean Up" translate="no">​</a></h3>
<p>After successful migration:</p>
<ul>
<li class="">Remove old Ingress resources</li>
<li class="">Delete unused Certificate resources if consolidated</li>
<li class="">Update documentation and deployment pipelines</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="annotation-migration-reference">Annotation Migration Reference<a href="#annotation-migration-reference" class="hash-link" aria-label="Direct link to Annotation Migration Reference" title="Direct link to Annotation Migration Reference" translate="no">​</a></h2>
<table><thead><tr><th>Nginx Ingress Annotation</th><th>Gateway API Equivalent</th><th>Documentation</th></tr></thead><tbody><tr><td><code>nginx.ingress.kubernetes.io/rewrite-target</code></td><td>URLRewrite filter</td><td><a class="" href="/docs/xks/operator-guide/ingress-nginx deprecation/gateway-api#url-rewriting">Gateway API - URL Rewriting</a></td></tr><tr><td><code>nginx.ingress.kubernetes.io/backend-protocol</code></td><td>BackendTLSPolicy</td><td><a class="" href="/docs/xks/operator-guide/ingress-nginx deprecation/envoy-gateway#backend-tls">Envoy Gateway - Backend TLS</a></td></tr><tr><td><code>nginx.ingress.kubernetes.io/limit-rps</code></td><td>BackendTrafficPolicy (rate limiting)</td><td><a class="" href="/docs/xks/operator-guide/ingress-nginx deprecation/envoy-gateway#rate-limiting">Envoy Gateway - Rate Limiting</a></td></tr><tr><td><code>nginx.ingress.kubernetes.io/limit-connections</code></td><td>BackendTrafficPolicy (rate limiting)</td><td><a class="" href="/docs/xks/operator-guide/ingress-nginx deprecation/envoy-gateway#rate-limiting">Envoy Gateway - Rate Limiting</a></td></tr><tr><td><code>nginx.ingress.kubernetes.io/cors-*</code></td><td>CORSPolicy (extension)</td><td><a class="" href="/docs/xks/operator-guide/ingress-nginx deprecation/envoy-gateway#cors-policy">Envoy Gateway - CORS</a></td></tr><tr><td><code>nginx.ingress.kubernetes.io/auth-*</code></td><td>SecurityPolicy</td><td><a class="" href="/docs/xks/operator-guide/ingress-nginx deprecation/envoy-gateway#basic-authentication">Envoy Gateway - Basic Auth</a></td></tr><tr><td><code>nginx.ingress.kubernetes.io/upstream-hash-by</code></td><td>BackendTrafficPolicy (load balancing)</td><td><a class="" href="/docs/xks/operator-guide/ingress-nginx deprecation/envoy-gateway#load-balancing">Envoy Gateway - Load Balancing</a></td></tr><tr><td><code>nginx.ingress.kubernetes.io/affinity</code></td><td>BackendTrafficPolicy (session affinity)</td><td><a class="" href="/docs/xks/operator-guide/ingress-nginx deprecation/envoy-gateway#session-affinity">Envoy Gateway - Session Affinity</a></td></tr><tr><td><code>nginx.ingress.kubernetes.io/proxy-body-size</code></td><td>ClientTrafficPolicy (buffer limits)</td><td><a class="" href="/docs/xks/operator-guide/ingress-nginx deprecation/envoy-gateway#clienttrafficpolicy">Envoy Gateway - ClientTrafficPolicy</a></td></tr><tr><td><code>nginx.ingress.kubernetes.io/ssl-redirect</code></td><td>HTTPRoute (redirect)</td><td>Use HTTPRoute filters for redirect behavior</td></tr><tr><td><code>nginx.ingress.kubernetes.io/configuration-snippet</code></td><td>Custom filters or policies</td><td><a class="" href="/docs/xks/operator-guide/ingress-nginx deprecation/envoy-gateway#extensibility">Envoy Gateway - Extensibility</a></td></tr></tbody></table>
<p>For complex configurations using configuration snippets, consult the XKS platform team for guidance on migration strategies.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="network-policy-considerations">Network Policy Considerations<a href="#network-policy-considerations" class="hash-link" aria-label="Direct link to Network Policy Considerations" title="Direct link to Network Policy Considerations" translate="no">​</a></h2>
<p>When migrating, ensure Network Policies allow traffic from the Gateway:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">apiVersion</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> networking.k8s.io/v1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">kind</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> NetworkPolicy</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">metadata</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> allow</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">gateway</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">namespace</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> tenant</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">spec</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">ingress</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">from</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">namespaceSelector</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token key atrule">matchLabels</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> gateway</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">system</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">podSelector</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">matchLabels</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">app</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> your</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">app</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">policyTypes</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> Ingress</span><br></span></code></pre></div></div>
<p>Previously, you may have allowed traffic from <code>ingress-nginx</code> namespace - this should be updated to <code>gateway-system</code> (or your Gateway&#x27;s namespace).</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="common-migration-patterns">Common Migration Patterns<a href="#common-migration-patterns" class="hash-link" aria-label="Direct link to Common Migration Patterns" title="Direct link to Common Migration Patterns" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="simple-host-based-routing">Simple Host-Based Routing<a href="#simple-host-based-routing" class="hash-link" aria-label="Direct link to Simple Host-Based Routing" title="Direct link to Simple Host-Based Routing" translate="no">​</a></h3>
<p>Most basic Ingress resources translate directly to HTTPRoute with minimal changes. See <a class="" href="/docs/xks/operator-guide/ingress-nginx deprecation/gateway-api#basic-http-route">Gateway API - Basic HTTP Route</a>.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="path-rewriting">Path Rewriting<a href="#path-rewriting" class="hash-link" aria-label="Direct link to Path Rewriting" title="Direct link to Path Rewriting" translate="no">​</a></h3>
<p>URL rewriting moves from annotations to typed filters. See <a class="" href="/docs/xks/operator-guide/ingress-nginx deprecation/gateway-api#url-rewriting">Gateway API - URL Rewriting</a>.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="tls-termination">TLS Termination<a href="#tls-termination" class="hash-link" aria-label="Direct link to TLS Termination" title="Direct link to TLS Termination" translate="no">​</a></h3>
<p>TLS configuration moves from Ingress to Gateway resource (managed by cluster operators). Applications reference the Gateway and inherit TLS configuration. See <a class="" href="/docs/xks/operator-guide/ingress-nginx deprecation/gateway-api#tls-configuration">Gateway API - TLS Configuration</a>.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="rate-limiting">Rate Limiting<a href="#rate-limiting" class="hash-link" aria-label="Direct link to Rate Limiting" title="Direct link to Rate Limiting" translate="no">​</a></h3>
<p>Rate limiting moves from annotations to BackendTrafficPolicy resources with more granular control. See <a class="" href="/docs/xks/operator-guide/ingress-nginx deprecation/envoy-gateway#rate-limiting">Envoy Gateway - Rate Limiting</a>.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="external-services">External Services<a href="#external-services" class="hash-link" aria-label="Direct link to External Services" title="Direct link to External Services" translate="no">​</a></h3>
<p>Routing to external endpoints works similarly but uses Gateway API&#x27;s ExternalName services.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="getting-help">Getting Help<a href="#getting-help" class="hash-link" aria-label="Direct link to Getting Help" title="Direct link to Getting Help" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="documentation-resources">Documentation Resources<a href="#documentation-resources" class="hash-link" aria-label="Direct link to Documentation Resources" title="Direct link to Documentation Resources" translate="no">​</a></h3>
<ul>
<li class=""><a class="" href="/docs/xks/operator-guide/ingress-nginx deprecation/azure-dns-migration-playbook">Azure DNS Migration Playbook</a> - Step-by-step migration guide with external-dns</li>
<li class=""><a class="" href="/docs/xks/operator-guide/ingress-nginx deprecation/gateway-api">Gateway API Guide</a> - Complete XKS Gateway API documentation</li>
<li class=""><a class="" href="/docs/xks/operator-guide/ingress-nginx deprecation/envoy-gateway">Envoy Gateway Guide</a> - Envoy-specific features and configuration</li>
<li class=""><a href="https://gateway-api.sigs.k8s.io/" target="_blank" rel="noopener noreferrer" class="">Official Gateway API Docs</a> - Kubernetes Gateway API specification</li>
<li class=""><a href="https://gateway.envoyproxy.io/" target="_blank" rel="noopener noreferrer" class="">Official Envoy Gateway Docs</a> - Envoy Gateway project documentation</li>
<li class=""><a href="https://www.envoyproxy.io/docs" target="_blank" rel="noopener noreferrer" class="">Envoy Proxy Docs</a> - Envoy Proxy internals</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="support-channels">Support Channels<a href="#support-channels" class="hash-link" aria-label="Direct link to Support Channels" title="Direct link to Support Channels" translate="no">​</a></h3>
<ul>
<li class=""><strong>XKS Platform Team</strong>: Contact for migration assistance and cluster-specific questions</li>
<li class=""><strong>Migration Planning</strong>: Request guidance for complex migration scenarios</li>
<li class=""><strong>Troubleshooting</strong>: Get help debugging Gateway API or Envoy Gateway issues</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="community-resources">Community Resources<a href="#community-resources" class="hash-link" aria-label="Direct link to Community Resources" title="Direct link to Community Resources" translate="no">​</a></h3>
<ul>
<li class=""><a href="https://kubernetes.slack.com/messages/gateway-api" target="_blank" rel="noopener noreferrer" class="">Gateway API Slack</a> - Kubernetes Slack channel</li>
<li class=""><a href="https://envoyproxy.slack.com/" target="_blank" rel="noopener noreferrer" class="">Envoy Slack</a> - Envoy community Slack</li>
<li class=""><a href="https://github.com/kubernetes-sigs/gateway-api" target="_blank" rel="noopener noreferrer" class="">Gateway API GitHub</a> - Report issues and view discussions</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="frequently-asked-questions">Frequently Asked Questions<a href="#frequently-asked-questions" class="hash-link" aria-label="Direct link to Frequently Asked Questions" title="Direct link to Frequently Asked Questions" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="when-will-ingress-be-removed-from-xks">When will Ingress be removed from XKS?<a href="#when-will-ingress-be-removed-from-xks" class="hash-link" aria-label="Direct link to When will Ingress be removed from XKS?" title="Direct link to When will Ingress be removed from XKS?" translate="no">​</a></h3>
<p>Ingress support will be maintained during a transition period to allow sufficient time for migration. Advance notice will be provided before removal.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="can-i-use-both-ingress-and-gateway-api-during-migration">Can I use both Ingress and Gateway API during migration?<a href="#can-i-use-both-ingress-and-gateway-api-during-migration" class="hash-link" aria-label="Direct link to Can I use both Ingress and Gateway API during migration?" title="Direct link to Can I use both Ingress and Gateway API during migration?" translate="no">​</a></h3>
<p>Yes, both can coexist in the same cluster. This allows for gradual migration and parallel testing.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="will-my-existing-ingress-resources-stop-working">Will my existing Ingress resources stop working?<a href="#will-my-existing-ingress-resources-stop-working" class="hash-link" aria-label="Direct link to Will my existing Ingress resources stop working?" title="Direct link to Will my existing Ingress resources stop working?" translate="no">​</a></h3>
<p>No, existing Ingress resources will continue to function during the migration period. However, new features and optimizations will only be added to Gateway API.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="is-gateway-api-production-ready">Is Gateway API production-ready?<a href="#is-gateway-api-production-ready" class="hash-link" aria-label="Direct link to Is Gateway API production-ready?" title="Direct link to Is Gateway API production-ready?" translate="no">​</a></h3>
<p>Yes, Gateway API graduated to GA (General Availability) in October 2023 and is production-ready. It&#x27;s already in use by major organizations and cloud providers.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="what-if-i-use-advanced-nginx-features">What if I use advanced Nginx features?<a href="#what-if-i-use-advanced-nginx-features" class="hash-link" aria-label="Direct link to What if I use advanced Nginx features?" title="Direct link to What if I use advanced Nginx features?" translate="no">​</a></h3>
<p>Most Nginx features have Gateway API or Envoy Gateway equivalents. For complex scenarios, consult the <a href="#annotation-migration-reference" class="">annotation migration table</a> or contact the XKS platform team.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="do-i-need-to-change-my-application-code">Do I need to change my application code?<a href="#do-i-need-to-change-my-application-code" class="hash-link" aria-label="Direct link to Do I need to change my application code?" title="Direct link to Do I need to change my application code?" translate="no">​</a></h3>
<p>No, application code doesn&#x27;t need to change. Only the Kubernetes resources that define how traffic reaches your application need to be updated.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="what-happens-to-my-dns-and-certificates">What happens to my DNS and certificates?<a href="#what-happens-to-my-dns-and-certificates" class="hash-link" aria-label="Direct link to What happens to my DNS and certificates?" title="Direct link to What happens to my DNS and certificates?" translate="no">​</a></h3>
<p>External DNS and Cert Manager continue to work with Gateway API. DNS records and certificates are managed automatically, just as they were with Ingress.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="can-i-migrate-incrementally">Can I migrate incrementally?<a href="#can-i-migrate-incrementally" class="hash-link" aria-label="Direct link to Can I migrate incrementally?" title="Direct link to Can I migrate incrementally?" translate="no">​</a></h3>
<p>Yes, you can migrate one application at a time. Start with simple applications and gain confidence before migrating more complex configurations.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/xenitab/xenitab.github.io/edit/main/docs/xks/operator-guide/ingress-nginx deprecation/ingress-nginx-migration.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/xks/operator-guide/kubernetes/eks"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">EKS</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/xks/operator-guide/ingress-nginx deprecation/gateway-api"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Gateway API</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#retirement-and-deprecation-notice-for-ingress-nginx" class="table-of-contents__link toc-highlight">Retirement and Deprecation Notice for Ingress Nginx</a><ul><li><a href="#official-deprecation-information" class="table-of-contents__link toc-highlight">Official Deprecation Information</a></li><li><a href="#xks-timeline-and-support" class="table-of-contents__link toc-highlight">XKS Timeline and Support</a></li></ul></li><li><a href="#why-migrate" class="table-of-contents__link toc-highlight">Why Migrate?</a><ul><li><a href="#standardization" class="table-of-contents__link toc-highlight">Standardization</a></li><li><a href="#enhanced-capabilities" class="table-of-contents__link toc-highlight">Enhanced Capabilities</a></li><li><a href="#better-architecture" class="table-of-contents__link toc-highlight">Better Architecture</a></li></ul></li><li><a href="#migration-resources" class="table-of-contents__link toc-highlight">Migration Resources</a><ul><li><a href="#gateway-api-documentation" class="table-of-contents__link toc-highlight">Gateway API Documentation</a></li><li><a href="#envoy-gateway-documentation" class="table-of-contents__link toc-highlight">Envoy Gateway Documentation</a></li></ul></li><li><a href="#migration-guide" class="table-of-contents__link toc-highlight">Migration Guide</a><ul><li><a href="#step-1-assess-current-ingress-resources" class="table-of-contents__link toc-highlight">Step 1: Assess Current Ingress Resources</a></li><li><a href="#step-2-understand-annotation-mapping" class="table-of-contents__link toc-highlight">Step 2: Understand Annotation Mapping</a></li><li><a href="#step-3-create-httproute-resources" class="table-of-contents__link toc-highlight">Step 3: Create HTTPRoute Resources</a></li><li><a href="#step-4-test-in-parallel" class="table-of-contents__link toc-highlight">Step 4: Test in Parallel</a></li><li><a href="#step-5-update-dns-and-switch-traffic" class="table-of-contents__link toc-highlight">Step 5: Update DNS and Switch Traffic</a></li><li><a href="#step-6-clean-up" class="table-of-contents__link toc-highlight">Step 6: Clean Up</a></li></ul></li><li><a href="#annotation-migration-reference" class="table-of-contents__link toc-highlight">Annotation Migration Reference</a></li><li><a href="#network-policy-considerations" class="table-of-contents__link toc-highlight">Network Policy Considerations</a></li><li><a href="#common-migration-patterns" class="table-of-contents__link toc-highlight">Common Migration Patterns</a><ul><li><a href="#simple-host-based-routing" class="table-of-contents__link toc-highlight">Simple Host-Based Routing</a></li><li><a href="#path-rewriting" class="table-of-contents__link toc-highlight">Path Rewriting</a></li><li><a href="#tls-termination" class="table-of-contents__link toc-highlight">TLS Termination</a></li><li><a href="#rate-limiting" class="table-of-contents__link toc-highlight">Rate Limiting</a></li><li><a href="#external-services" class="table-of-contents__link toc-highlight">External Services</a></li></ul></li><li><a href="#getting-help" class="table-of-contents__link toc-highlight">Getting Help</a><ul><li><a href="#documentation-resources" class="table-of-contents__link toc-highlight">Documentation Resources</a></li><li><a href="#support-channels" class="table-of-contents__link toc-highlight">Support Channels</a></li><li><a href="#community-resources" class="table-of-contents__link toc-highlight">Community Resources</a></li></ul></li><li><a href="#frequently-asked-questions" class="table-of-contents__link toc-highlight">Frequently Asked Questions</a><ul><li><a href="#when-will-ingress-be-removed-from-xks" class="table-of-contents__link toc-highlight">When will Ingress be removed from XKS?</a></li><li><a href="#can-i-use-both-ingress-and-gateway-api-during-migration" class="table-of-contents__link toc-highlight">Can I use both Ingress and Gateway API during migration?</a></li><li><a href="#will-my-existing-ingress-resources-stop-working" class="table-of-contents__link toc-highlight">Will my existing Ingress resources stop working?</a></li><li><a href="#is-gateway-api-production-ready" class="table-of-contents__link toc-highlight">Is Gateway API production-ready?</a></li><li><a href="#what-if-i-use-advanced-nginx-features" class="table-of-contents__link toc-highlight">What if I use advanced Nginx features?</a></li><li><a href="#do-i-need-to-change-my-application-code" class="table-of-contents__link toc-highlight">Do I need to change my application code?</a></li><li><a href="#what-happens-to-my-dns-and-certificates" class="table-of-contents__link toc-highlight">What happens to my DNS and certificates?</a></li><li><a href="#can-i-migrate-incrementally" class="table-of-contents__link toc-highlight">Can I migrate incrementally?</a></li></ul></li></ul></div></div></div></div></main></div></div></div></div>
</body>
</html>